<!--
  Generated template for the CatalogPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-title>Catalog</ion-title>
    <!--<ion-title></ion-title>-->
</ion-header>


<ion-content padding class="catalogpage">
    <div>
        <ul id="ul-catalog-selector">
            <li>
                <div id="btn-freshsync" class="pts-button catalog-search-button" (click)="freshsync()">
                    Fresh Sync
                </div>
                <div id="btn-getupdates" class="pts-button catalog-search-button" (click)="getupdates()">
                    Get Updates
                </div>
                <div id="btn-resetdata" class="pts-button catalog-search-button" (click)="resetdata()">
                    Reset Data
                </div>
            </li>
        </ul>
    </div>
    <div class="ptsDMiddle">
        <select (change)="onChange($event.target.value)" #select>
            <option value = "key">Keyword</option>
            <option value = "part" >Part</option>
            <option value = "set">Set</option>
            <option value = "system">System</option>
            <option value = "technique">Technique</option>
        </select>
        <input type="text" placeholder="Search by {{placeH}}" class="search-text" [(ngModel)]="txt" (input)="searchItem(select.value)">
    </div>
    <div *ngIf="txt.length == 0" class="ptsDMiddle ptsMarginT20p">
        <div id="btn-system" class="pts-button catalog-search-button" (click)="showProduct()">
            Product
        </div>
        <div id="btn-techinque" class="pts-button catalog-search-button" (click)="showTechniques()">
            Approach
        </div>
        <div id="btn-fav" class="pts-button catalog-search-button" (click)="showFavs()">
            Favorites
        </div>
        <div id="btn-recent" class="pts-button catalog-search-button" (click)="showRecents()">
            Recent
        </div>
    </div>
    <div id="div-cat-srh-tab-container" *ngIf="tab">
        <ul>
            <li *ngIf="type == 'system' || type == 'key'" (click)="selectTab('system', 'systab')" [ngClass]='{ptsCatSelectedTab : tabs.systab}'>Product <span>{{syslen}}</span></li>
            <li *ngIf="type == 'key'" (click)="selectTab('doc', 'doctab')" [ngClass]='{ptsCatSelectedTab : tabs.doctab}'>Document <span>{{doclen}}</span></li>
            <li *ngIf="type == 'set' || type == 'key'" (click)="selectTab('set', 'settab')" [ngClass]='{ptsCatSelectedTab : tabs.settab}'>Set <span>{{setlen}}</span></li>
            <li *ngIf="type == 'part' || type == 'key'" (click)="selectTab('part', 'parttab')" [ngClass]='{ptsCatSelectedTab : tabs.parttab}'>Part <span>{{partlen}}</span></li>
            <li *ngIf="type == 'technique'" (click)="selectTab('technique', 'techtab')" [ngClass]='{ptsCatSelectedTab : tabs.techtab}'>Technique <span>{{techlen}}</span></li>
            <li *ngIf="type == 'key'" (click)="selectTab('img', 'imgtab')" [ngClass]='{ptsCatSelectedTab : tabs.imgtab}'>Picture <span>{{imglen}}</span></li>
            <li *ngIf="type == 'key'" (click)="selectTab('video', 'vidtab')" [ngClass]='{ptsCatSelectedTab : tabs.vidtab}'>Video <span>{{vidlen}}</span></li>
            <li *ngIf="type == 'fav'" (click)="selectTab('fav', 'favtab')" [ngClass]='{ptsCatSelectedTab : tabs.favtab}'>Favorites <span>{{favlen}}</span></li>
            <li *ngIf="type == 'rec'" (click)="selectTab('rec', 'rectab')" [ngClass]='{ptsCatSelectedTab : tabs.rectab}'>Recent <span>{{reclen}}</span></li>
        </ul>
    </div>
    <ion-list *ngIf="display && listItem.length == 0">
        <ion-card>
            <ion-card-header>No Data Found</ion-card-header>
        </ion-card>
    </ion-list>
    <ion-list *ngIf="!nomedia; else list">
        <ion-card *ngFor="let item of listItem" (click)="itemTapped(item)">
            <ion-card-header>{{item.title}}</ion-card-header>
            <ion-card-content>
                <div (click)="viewMedia(item.url)">View</div>
                <div (click)="shareMedia(item.url)">Share</div>
            </ion-card-content>
        </ion-card>
    </ion-list>
</ion-content>

<ng-template #list>
    <ion-list>
        <ion-card *ngFor="let item of listItem" (click)="itemTapped(item)">
            <ion-card-header *ngIf="item.ID">{{item.ID}}</ion-card-header>
            <ion-card-content>{{item?.Name}}</ion-card-content>
        </ion-card>
    </ion-list>
</ng-template>